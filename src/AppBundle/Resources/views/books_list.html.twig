{% block content %}

    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/invetaadmin/js/ludo-jquery-treetable/stylesheets/jquery.treetable.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/invetaadmin/css/treetable.css') }}" />
    <script src="{{ asset('bundles/invetaadmin/js/ludo-jquery-treetable/javascripts/src/jquery.treetable.js') }}"></script>

    {% set no = 1 %}
    {% set newPath = path('book_new', {'entityId' : entityId}) %}


<table width="100%" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-hover table-condensed dt" data-language="{{wt_locale}}">
    <thead>
    <tr>
        <th>{{'Title'|trans({}, 'fields')}}</th>
        <th>{{'Author'|trans({}, 'fields')}}</th>
        <th>{{'Translate year'|trans({}, 'fields')}}</th>
        <th>{{'Release year'|trans({}, 'fields')}}</th>
        <th>{{'Language'|trans({}, 'fields')}}</th>
        <th>{{'Page number'|trans({}, 'fields')}}</th>
        <th>{{'Price'|trans({}, 'fields')}}</th>
        <th>{{'Times downloaded'|trans({}, 'fields')}}</th>
        <th>{{'Comments added'|trans({}, 'fields')}}</th>

        <th>
            {% if is_granted('') %}
                <div class="btn-group">
                    <a href="{{ newPath }}"
                       data-target="#invModal"
                       class="btn btn-main btn-xs"
                       role="button"
                       data-toggle="modal-ajax"
                       data-callback="reloadTab"
                       data-title="{{'Add Book'|trans({}, 'default')}}">
                        <i class="glyphicon glyphicon-plus icon-white"></i>
                    </a>
                </div>
            {% endif %}
        </th>
    </tr>
    </thead>

    <tbody>
    {% for book in book_list %}
        <tr>
            <td>{{ no }}</td>
            {% set no = no + 1 %}

            <td>{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td>{{ book.translate_year }}</td>
            <td>{{ book.release_year }}</td>
            <td>{{ book.language }}</td>
            <td>{{ book.page_number }}</td>
            <td>{{ book.rating }}</td>
            <td>{{ book.price }}</td>
            <td>{{ book.times_downloaded }}</td>
            <td>{{ book.comments_added }}</td>

            <td>
                {% if is_granted('123') %}
                    <div class="btn-toolbar nomargin">
                        <div class="btn-group">
                            <a data-toggle="modal-ajax"
                               data-title="{{'Edit Book'|trans({}, 'default')}}"
                               data-callback="reloadTab"
                               data-target="#invModal"
                               href="{{ path('book_edit', {'id': book.id}) }}"
                               class="btn btn-default btn-xs"><i class="glyphicon glyphicon-pencil"></i></a>
                            <a data-record="{{ book.id }}"
                               data-msg="{{ book.title }}"
                               href="{{ path('book_delete') }}"
                               data-callback="reloadTab"
                               class="btn btn-default btn-xs delete"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </div>
                {% endif %}
            </td>
        </tr>
    {% endfor %}
    </tbody>

</table>

{% endblock %}